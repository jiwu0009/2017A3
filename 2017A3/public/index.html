<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>巧克力收藏应用</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" href="styles.css">
</head>

<body class="container mt-4">
    <h1 class="text-center">巧克力收藏应用</h1>
    <div class="search-container mb-3">
        <div class="input-group">
            <input type="text" class="form-control" id="searchInput" placeholder="搜索名称或成分...">
            <button class="btn btn-primary" onclick="searchChocolates()">搜索</button>
            <button class="btn btn-secondary" onclick="returnToMainPage()">返回主界面</button>
        </div>
    </div>
    
    <form id="chocolateForm" class="mb-3">
        <div class="mb-3">
            <input type="text" class="form-control" id="name" placeholder="巧克力名称" required>
        </div>
        <div class="mb-3">
            <input type="text" class="form-control" id="type" placeholder="类型" required>
        </div>
        <div class="mb-3">
            <input type="number" class="form-control" id="calories" placeholder="卡路里" required>
        </div>
        <div class="mb-3">
            <input type="text" class="form-control" id="ingredients" placeholder="成分" required>
        </div>
        <div class="mb-3">
            <textarea class="form-control" id="comments" placeholder="评论"></textarea>
        </div>
        <div class="mb-3">
            <select class="form-select" id="rating">
                <option value="1">⭐️</option>
                <option value="2">⭐️⭐️</option>
                <option value="3">⭐️⭐️⭐️</option>
                <option value="4">⭐️⭐️⭐️⭐️</option>
                <option value="5">⭐️⭐️⭐️⭐️⭐️</option>
            </select>
        </div>
        </div>
        <input id="img-input" type="file"/> 
        <img id="img-dest" class="img-dest"></img>
        </div>
        <button type="button" class="btn btn-success" onclick="addChocolate()">添加巧克力</button>
    </form>

    <ul id="chocolateList" class="list-group mb-3"></ul>

    <h2>卡路里总和：<span id="totalCalories">0</span></h2>

    <div id="chocolatesByDate" class="mb-3"></div>

    <div class="mb-3">
        <button id="toggleDeleteButtons" class="btn btn-warning">显示/隐藏删除按钮</button>
        <button id="deleteSelected" class="btn btn-danger">删除所选数据</button>
        <button id="clear" class="btn btn-danger">清除所有巧克力</button>
    </div>

    <h2>统计信息</h2>
    <div id="statistics" class="mb-3"></div>
    <canvas id="chocolateChart" class="mb-3"></canvas>

    <h2>按评分排序的巧克力</h2>
    <div id="chocolatesByRating" class="mb-3"></div>

    <!-- 模态框 -->
    <dialog id="chocolateDialog">
        <form method="dialog">
            <p><label>巧克力名称: <input type="text" id="modalName"></label></p>
            <p><label>类型: <input type="text" id="modalType"></label></p>
            <p><label>卡路里: <input type="number" id="modalCalories"></label></p>
            <p><label>成分: <input type="text" id="modalIngredients"></label></p>
            <p><label>评论: <textarea id="modalComments"></textarea></p>
            <p><label>评分: 
                <select id="modalRating">
                    <option value="1">⭐️</option>
                    <option value="2">⭐️⭐️</option>
                    <option value="3">⭐️⭐️⭐️</option>
                    <option value="4">⭐️⭐️⭐️⭐️</option>
                    <option value="5">⭐️⭐️⭐️⭐️⭐️</option>
                </select>
            </label></p>
            <menu>
                <button value="cancel">取消</button>
                <button id="confirmBtn" value="default">确认</button>
            </menu>
        </form>
    </dialog>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>
    <script src="app.js"></script>
</body>
</html>
